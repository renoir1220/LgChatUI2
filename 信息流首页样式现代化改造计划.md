# 信息流首页样式现代化改造计划（仅针对“消息流列表”样式）

本计划聚焦信息流“列表区”的视觉与交互样式改造，目标参考 Perplexity Discover、X、Google News 等大厂信息流，避免“后台管理风”观感，先定样式标准与落地步骤，不改功能、不写代码。

## 1. 设计目标
- 现代、轻盈：去除厚重卡片感与过度阴影，减少“傻大粗”。
- 信息密度可控：默认舒适密度，可切换“紧凑/舒适”两档（后续再加）。
- 低色干扰：以中性底+强调色点缀，突出内容而非容器。
- 微交互克制：轻微位移、淡入阴影、内容高亮，杜绝夸张缩放。
- 暗色模式一致性：遵循 shadcn/ui 设计令牌，明暗一致、对比充足。

## 2. 对标拆解（Perplexity / X / Google News）
- 版式：单列主栏为主（X、Perplexity），必要时局部卡片化（Google News）。
- 容器：多用细分隔/极浅描边；阴影弱；圆角小而统一；大面积留白。
- 文字：标题中号/中粗，摘要较浅，元数据小字号、低彩度图标。
- 交互：Hover 轻微提升和标题变色，Pressed 有短暂按压反馈；Skeleton 过渡顺滑。
- 媒体：16:9/1:1 比例统一裁切，角部与容器一致，避免视觉噪声。

## 3. 视觉系统（基于 shadcn/ui + Tailwind）
- 色彩（遵循 shadcn 令牌）：
  - 背景：`bg-background` / 次级：`bg-muted`
  - 文本：`text-foreground`，摘要/元信息：`text-muted-foreground`
  - 描边：`border-border`，分隔：`bg-border`
  - 主色：`text-primary hover:text-primary/90`
- 圆角：列表容器极简，无阴影；卡片变体使用 `rounded-xl`（12px）。
- 阴影：弱化为 `shadow-[0_1px_0_rgba(0,0,0,0.04)]` 或 `shadow-sm`；Hover 才加 `shadow-md/translate-y-[1px]`；禁用整体缩放。
- 字体与层级：
  - 标题：`text-[17px] md:text-[18px] font-medium leading-snug`
  - 摘要：`text-[13.5px] md:text-[14px] text-muted-foreground leading-relaxed`
  - 元信息：`text-[12px] text-muted-foreground`
- 间距：
  - 列表项内边距：`px-4 py-3 md:px-5 md:py-4`
  - 列表项间距：使用分隔线，不使用外阴影制造间距感
  - 列表容器最大宽：`max-w-2xl md:max-w-3xl`，左右 `mx-auto`，保持大厂居中单列观感

## 4. 列表形态与变体
- 默认（Edge-to-Edge 列表，推荐）：
  - 单列；每项上下用极细分隔线（`border-b border-border last:border-b-0`）。
  - 左文右图（≥md）：左侧标题+摘要+元信息；右侧固定宽缩略图（`w-[140px] md:w-[180px] aspect-video rounded-md overflow-hidden`）。
  - 移动端：上图下文，图占满项宽，`rounded-md`。
- 备用（轻卡片变体，用于“新闻/专题精选”）：
  - `rounded-xl border border-border bg-card hover:bg-accent/5`；弱阴影仅在 hover。
  - 保留相同信息层级，卡片仅作为分组氛围强化，不滥用。
- 紧凑密度（后续开关）：
  - 垂直间距减少 20%～30%，摘要行数 `line-clamp-1`，适合信息扫读。

## 5. 列表项解剖（Anatomy）
- 容器：`relative transition-colors`，Hover 加 `bg-accent/5` 与 `translate-y-[1px]`。
- 媒体区：统一比例裁切；图片 hover 轻微 `scale-105`（仅图片层，不整体缩放）。
- 标题：两行截断 `line-clamp-2`；hover 变 `text-primary`；可加“已读”弱化态（`opacity-70`）。
- 摘要：`line-clamp-2~3`，避免冗长；代码/链接做弱样式处理。
- 元信息行：
  - 左：时间、来源/作者（可含头像/徽标，12px 图标 + 4px 间距）。
  - 右：浏览/赞/评论统计；图标使用 `text-muted-foreground`，数字正常权重。
- 标签/话题（可选）：使用 `Badge` 微弱底色（`bg-muted`）。
- 操作（后续）：`…` 菜单用 `DropdownMenu`，默认隐藏，hover 显示，避免常驻噪声。

## 6. 状态与反馈
- Hover：容器轻提、标题变色、图片轻微放大、背景加淡色衬底。
- Active/Pressed：`scale-[0.995]` + `ring-1 ring-ring/30` 瞬态反馈。
- Focus 可达：`outline-none focus-visible:ring-2 focus-visible:ring-ring`，整项可键盘导航。
- Skeleton：使用 shadcn `Skeleton`，包含标题/摘要/媒体占位三个层级；加载骨架替换现有“粗块”。
- 空/错误：保留当前文案，但视觉更轻（去大面积彩色按钮，改为 `Button variant="outline"`）。

## 7. 响应式与布局
- 容器：`container mx-auto px-3 md:px-4 lg:px-6 max-w-3xl`。
- 断点：
  - `<md`：上图下文，元素堆叠；
  - `md+`：图文并列，右图左文；
  - `lg+`：仍保持单列，避免多列“瀑布流”破坏阅读节奏（后续可加右侧补充栏位）。

## 8. 可访问性与可用性
- 点击热区：整行可点，同时保留标题为链接，可用 `aria-label` 描述目标。
- 触控尺寸：操作与链接最小 44x44 dp 热区。
- 对比度：标题与背景对比度 ≥ 7:1，元信息 ≥ 4.5:1。
- 动效偏好：尊重 `prefers-reduced-motion`，降低或关闭过渡与缩放。

## 9. 性能与媒体规范
- 图片尺寸：服务端或构建期生成多分辨率；前端 `sizes` + `loading="lazy"`。
- 占位策略：先骨架、后渐显；出错回退灰背景+图标，不回退到高彩度占位图。
- 文本截断：统一 `line-clamp`，避免重排；

## 10. 组件与令牌映射（仅规划，不写代码）
- 基础组件（shadcn）：`Avatar`（来源徽标）、`Badge`（类别/话题）、`Separator`（分隔线）、`Skeleton`（占位）、`Tooltip`、`DropdownMenu`。
- Tailwind 实用类基线：
  - 容器：`group relative transition-all border-b border-border hover:bg-accent/5`
  - 标题：`text-[17px] md:text-[18px] font-medium line-clamp-2 group-hover:text-primary`
  - 摘要：`text-muted-foreground text-sm md:text-[14px] line-clamp-2 md:line-clamp-3`
  - 元信息：`text-[12px] text-muted-foreground flex items-center gap-4`
  - 媒体：`rounded-md overflow-hidden aspect-video bg-muted`（img 使用 `object-cover` + 轻微 `hover:scale-105`）

## 11. 替换与收敛清单（对当前实现的调整方向）
- 去除列表项整体 `hover:scale-[1.02]` 与强阴影，改为轻提与淡底色。
- Grid 三列布局改为“居中单列 + 分隔线”列表；媒体图移至右侧并固定宽度（≥md）。
- 卡片样式仅在“精选/专题”使用；普通流采用去卡片化的 Edge-to-Edge。
- 图标改用统一风格（建议 `lucide-react`），尺寸 12px～14px，低彩度。
- 骨架屏改为 shadcn `Skeleton`，分层更细致，去掉大面积色块。

## 12. 交付物与验收标准（本阶段仅样式）
- 交付物：
  - 列表默认变体（Edge-to-Edge）样式与交互；
  - 备用“轻卡片”变体的样式封装（不默认使用）；
  - Skeleton 样式；空/错误态样式轻量化。
- 验收标准：
  - 首页列表默认为单列、分隔线风格，无厚重卡片观感；
  - Hover/Pressed/Focus 三态齐备且克制；
  - 明暗主题对比度合规；
  - md 断点起图文并列，移动端上图下文；
  - 性能不下降（首屏渲染与滚动流畅）。

## 13. 实施步骤（不写代码，仅行动序）
1) 建令牌：补齐/对齐 shadcn 颜色、圆角、间距、阴影基线。
2) 列表布局：改为单列 + 分隔线，替换三列网格。
3) 列表项：实现“左文右图/上图下文”响应式骨架与样式；统一标题/摘要/元信息层级。
4) 微交互：接入 Hover/Pressed/Focus 状态，关闭整体缩放，限定图片层动效。
5) Skeleton：替换现有骨架样式为 shadcn 风格并细化层级。
6) 暗色与可达性：校正暗色对比、补充键盘焦点环。
7) 变体封装：抽出“轻卡片”变体（暂不默认）。
8) 走查与微调：对照 Perplexity/X/Google News 做像素级调整。

—— 以上为仅针对“信息流列表区”的样式现代化计划；其他筛选条、侧边栏、趋势榜等复杂模块暂不纳入本阶段。

